{% extends "students/base.html" %}

{% load static from staticfiles %}

{% block meta_title %}Додати результат іспиту{% endblock meta_title %}

{% block title %}Додати результат іспиту{% endblock title %}

{% block status_message %}
{% if errors %}
<div class="alert alert-warning" role="alert">Будь ласка, виправте наступні помилки:</div>
{% endif %}
{% endblock status_message %}

{% block content %}

<form action="{% url "exams_result_add" %}" method="post"
      role="form" class="form-horizontal">

    {% csrf_token %}

    <div class="form-group {% if errors.exam %}has-error{% endif %}">
        <label for="exam" class="col-sm-2 control-label">Іспит*</label>
        <div class="col-sm-10">
            <select name="exam" id="exam" class="form-control">
                <option value="">Виберіть іспит</option>
                {% for exam in exams %}
                    <option value="{{ exam.id }}"
                     {% if exam.id == request.POST.exam|add:0 %}selected="1"{% endif %}>{{ exam.subject }}</option>
                {% endfor %}
            </select>
            <span class="help-block">{{ errors.exam }}</span>
        </div>
    </div>
    <div class="form-group {% if errors.student %}has-error{% endif %}">
        <label for="student" class="col-sm-2 control-label">Студент*</label>
        <div class="col-sm-10">
            <select name="student" id="student" class="form-control">
                <option value="">Виберіть студента</option>
                {% for student in students %}
                    <option value="{{ student.id }}"
                     {% if student.id == request.POST.exam|add:0 %}selected="1"{% endif %}>
                     {{ student.last_name }} {{ student.first_name }}</option>
                {% endfor %}
            </select>
            <span class="help-block">{{ errors.studen }}</span>
        </div>
    </div>
    <div class="form-group {% if errors.mark %}has-error{% endif %}">
        <label for="mark" class="col-sm-2 control-label">Бал*</label>
        <div class="col-sm-10">
            <input type="text" value="{{ request.POST.mark }}"
            name="mark" id="mark"
            placeholder="Ціле число" class="form-control">
            <span class="help-block">{{ errors.mark }}</span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"></label>
        <div class="col-sm-10">
            <input type="submit" value="Додати"
            name="add_button" class="btn btn-primary">
            <button type="submit" name="cancel_button" class="btn btn-link">Скасувати</button>
        </div>
    </div>
</form>
{% endblock content %}
